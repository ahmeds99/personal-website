---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";

const { post } = Astro.props;
// TODO: types
const { title, rating, internalName, city, country } = post;

const mainImagePath = "../assets/stadiums/" + internalName + "/1.jpg";
const images = import.meta.glob<{ default: ImageMetadata }>(
  "../assets/stadiums/*/*.{jpeg,jpg,png,gif}"
);

if (!images[mainImagePath])
  throw new Error(
    `"${mainImagePath}" does not exist in glob: "src/assets/lerkendal/.{jpeg,jpg,png,gif}"`
  );
---

<!-- TODO: onclick åpner [stadium].astro som er faktiske beskrivelsen av stadionen, hover øker størrelse -->
<div class="text-center mb-2">
  <h5 class="font-semibold mb-2">🏟️ {title} ({rating})</h5>
  <p class="mb-2">📍 {city}, {country}</p>
  <a href="media/">
    <Image
      src={images[mainImagePath]()}
      alt=`Bilde av ${title}`
      class="hover:opacity-80 hover:scale-105 duration-500 ease-in-out"
    />
  </a>
</div>
